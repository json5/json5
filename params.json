{"name":"JSON5","tagline":"JSON for the ES5 era.","body":"JSON is an excellent data format, but we think it can be better.\r\n\r\n**JSON5 is a proposed extension to JSON** that aims to make it easier for\r\n*humans to write and maintain* by hand. It does this by adding some minimal\r\nsyntax features directly from ECMAScript 5.\r\n\r\nJSON5 remains a **strict subset of JavaScript**, adds **no new data types**,\r\nand **works with all existing JSON content**.\r\n\r\nJSON5 is *not* an official successor to JSON, and JSON5 content may *not*\r\nwork with existing JSON parsers. For this reason, JSON5 files use a new .json5\r\nextension. *(TODO: new MIME type needed too.)*\r\n\r\nThe code here is a **reference JavaScript implementation** for both Node.js\r\nand all browsers. It's based directly off of Douglas Crockford's own [JSON\r\nimplementation][json_parse.js], and it's both robust and secure.\r\n\r\n\r\n## Why\r\n\r\nJSON isn't the friendliest to *write*. Keys need to be quoted, objects and\r\narrays can't have trailing commas, and comments aren't allowed — even though\r\nnone of these are the case with regular JavaScript today.\r\n\r\nThat was fine when JSON's goal was to be a great data format, but JSON's usage\r\nhas expanded beyond *machines*. JSON is now used for writing [configs][ex1],\r\n[manifests][ex2], even [tests][ex3] — all by *humans*.\r\n\r\n[ex1]: http://plovr.com/docs.html\r\n[ex2]: https://www.npmjs.org/doc/files/package.json.html\r\n[ex3]: http://code.google.com/p/fuzztester/wiki/JSONFileFormat\r\n\r\nThere are other formats that are human-friendlier, like YAML, but changing\r\nfrom JSON to a completely different format is undesirable in many cases.\r\nJSON5’s aim is to remain close to JSON and JavaScript.\r\n\r\n\r\n## Features\r\n\r\nThe following is the exact list of additions to JSON's syntax introduced by\r\nJSON5. **All of these are optional**, and **all of these come from ES5**.\r\n\r\n### Objects\r\n\r\n- Object keys can be unquoted if they're valid [identifiers][mdn_variables].\r\n  Yes, even reserved keywords (like `default`) are valid unquoted keys in ES5\r\n  [[§11.1.5](http://es5.github.com/#x11.1.5), [§7.6](http://es5.github.com/#x7.6)].\r\n  ([More info](https://mathiasbynens.be/notes/javascript-identifiers))\r\n\r\n  *(TODO: Unicode characters and escape sequences aren’t yet supported in this\r\n  implementation.)*\r\n\r\n- Objects can have trailing commas.\r\n\r\n[mdn_variables]: https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/Core_Language_Features#Variables\r\n\r\n### Arrays\r\n\r\n- Arrays can have trailing commas.\r\n\r\n### Strings\r\n\r\n- Strings can be single-quoted.\r\n\r\n- Strings can be split across multiple lines; just prefix each newline with a\r\n  backslash. [ES5 [§7.8.4](http://es5.github.com/#x7.8.4)]\r\n\r\n### Numbers\r\n\r\n- Numbers can be hexadecimal (base 16).\r\n\r\n- Numbers can begin or end with a (leading or trailing) decimal point.\r\n\r\n- Numbers can include `Infinity`, `-Infinity`,  `NaN`, and `-NaN`.\r\n\r\n- Numbers can begin with an explicit plus sign.\r\n\r\n### Comments\r\n\r\n- Both inline (single-line) and block (multi-line) comments are allowed.\r\n\r\n\r\n## Example\r\n\r\nThe following is a contrived example, but it illustrates most of the features:\r\n\r\n```js\r\n{\r\n    foo: 'bar',\r\n    while: true,\r\n\r\n    this: 'is a \\\r\nmulti-line string',\r\n\r\n    // this is an inline comment\r\n    here: 'is another', // inline comment\r\n\r\n    /* this is a block comment\r\n       that continues on another line */\r\n\r\n    hex: 0xDEADbeef,\r\n    half: .5,\r\n    delta: +10,\r\n    to: Infinity,   // and beyond!\r\n\r\n    finally: 'a trailing comma',\r\n    oh: [\r\n        \"we shouldn't forget\",\r\n        'arrays can have',\r\n        'trailing commas too',\r\n    ],\r\n}\r\n```\r\n\r\nThis implementation's own [package.json5](package.json5) is more realistic:\r\n\r\n```js\r\n// This file is written in JSON5 syntax, naturally, but npm needs a regular\r\n// JSON file, so compile via `npm run build`. Be sure to keep both in sync!\r\n\r\n{\r\n    name: 'json5',\r\n    version: '0.4.0',\r\n    description: 'JSON for the ES5 era.',\r\n    keywords: ['json', 'es5'],\r\n    author: 'Aseem Kishore <aseem.kishore@gmail.com>',\r\n    contributors: [\r\n        // TODO: Should we remove this section in favor of GitHub's list?\r\n        // https://github.com/aseemk/json5/contributors\r\n        'Max Nanasy <max.nanasy@gmail.com>',\r\n        'Andrew Eisenberg <andrew@eisenberg.as>',\r\n        'Jordan Tucker <jordanbtucker@gmail.com>',\r\n    ],\r\n    main: 'lib/json5.js',\r\n    bin: 'lib/cli.js',\r\n    dependencies: {},\r\n    devDependencies: {\r\n        mocha: '~1.0.3',    // TODO: Look into Mocha v2.\r\n    },\r\n    scripts: {\r\n        build: './lib/cli.js -c package.json5',\r\n        test: 'mocha --ui exports --reporter spec',\r\n            // TODO: Would it be better to define these in a mocha.opts file?\r\n    },\r\n    homepage: 'http://json5.org/',\r\n    license: 'MIT',\r\n    repository: {\r\n        type: 'git',\r\n        url: 'https://github.com/aseemk/json5.git',\r\n    },\r\n}\r\n```\r\n\r\n\r\n## Community\r\n\r\nJoin the [Google Group](http://groups.google.com/group/json5) if you're\r\ninterested in JSON5 news, updates, and general discussion.\r\nDon't worry, it's very low-traffic.\r\n\r\nThe [GitHub wiki](https://github.com/aseemk/json5/wiki) is a good place to track\r\nJSON5 support and usage. Contribute freely there!\r\n\r\n[GitHub Issues](https://github.com/aseemk/json5/issues) is the place to\r\nformally propose feature requests and report bugs. Questions and general\r\nfeedback are better directed at the Google Group.\r\n\r\n\r\n## Usage\r\n\r\nThis JavaScript implementation of JSON5 simply provides a `JSON5` object just\r\nlike the native ES5 `JSON` object.\r\n\r\nTo use from Node:\r\n\r\n```\r\nnpm install json5\r\n```\r\n\r\n```js\r\nvar JSON5 = require('json5');\r\n```\r\n\r\nTo use in the browser (adds the `JSON5` object to the global namespace):\r\n\r\n```\r\n<script src=\"json5.js\"></script>\r\n```\r\n\r\nThen in both cases, you can simply replace native `JSON` calls with `JSON5`:\r\n\r\n```js\r\nvar obj = JSON5.parse('{unquoted:\"key\",trailing:\"comma\",}');\r\nvar str = JSON5.stringify(obj);\r\n```\r\n\r\n`JSON5.parse` supports all of the JSON5 features listed above (*TODO: except\r\nUnicode*), as well as the native [`reviver` argument][json-parse].\r\n\r\n[json-parse]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse\r\n\r\n`JSON5.stringify` mainly avoids quoting keys where possible, but we hope to\r\nkeep expanding it in the future (e.g. to also output trailing commas).\r\nIt supports the native [`replacer` and `space` arguments][json-stringify],\r\nas well. *(TODO: Any implemented `toJSON` methods aren't used today.)*\r\n\r\n[json-stringify]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify\r\n\r\n\r\n### Extras\r\n\r\nIf you're running this on Node, you can also register a JSON5 `require()` hook\r\nto let you `require()` `.json5` files just like you can `.json` files:\r\n\r\n```js\r\nrequire('json5/lib/require');\r\nrequire('./path/to/foo');   // tries foo.json5 after foo.js, foo.json, etc.\r\nrequire('./path/to/bar.json5');\r\n```\r\n\r\nThis module also provides a `json5` executable (requires Node) for converting\r\nJSON5 files to JSON:\r\n\r\n```\r\n$ json5 -c path/to/foo.json5    # generates path/to/foo.json\r\n```\r\n\r\n\r\n## Development\r\n\r\n```\r\ngit clone git://github.com/aseemk/json5.git\r\ncd json5\r\nnpm install\r\nnpm test\r\n```\r\n\r\nAs the `package.json5` file states, be sure to run `npm run build` on changes\r\nto `package.json5`, since npm requires `package.json`.\r\n\r\nFeel free to [file issues](https://github.com/aseemk/json5/issues) and submit\r\n[pull requests](https://github.com/aseemk/json5/pulls) — contributions are\r\nwelcome. If you do submit a pull request, please be sure to add or update the\r\ntests, and ensure that `npm test` continues to pass.\r\n\r\n\r\n## License\r\n\r\nMIT License. © 2012 Aseem Kishore, and [others](\r\nhttps://github.com/aseemk/json5/contributors).\r\n\r\n\r\n## Credits\r\n\r\n[Michael Bolin](http://bolinfest.com/) independently arrived at and published\r\nsome of these same ideas with awesome explanations and detail.\r\nRecommended reading:\r\n[Suggested Improvements to JSON](http://bolinfest.com/essays/json.html)\r\n\r\n[Douglas Crockford](http://www.crockford.com/) of course designed and built\r\nJSON, but his state machine diagrams on the [JSON website](http://json.org/),\r\nas cheesy as it may sound, gave me motivation and confidence that building a\r\nnew parser to implement these ideas this was within my reach!\r\nThis code is also modeled directly off of Doug's open-source [json_parse.js][]\r\nparser. I'm super grateful for that clean and well-documented code.\r\n\r\n[json_parse.js]: https://github.com/douglascrockford/JSON-js/blob/master/json_parse.js\r\n\r\n[Max Nanasy](https://github.com/MaxNanasy) has been an early and prolific\r\nsupporter, contributing multiple patches and ideas. Thanks Max!\r\n\r\n[Andrew Eisenberg](https://github.com/aeisenberg) has contributed the `stringify` method.\r\n","google":"UA-32213209-1","note":"Don't delete this file! It's used internally to help with page regeneration."}